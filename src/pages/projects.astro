---
import Layout from '../layouts/Layout.astro';

// Example projects (normally you would load these from a CMS or data file)
const projects = [
  {
    id: 1,
    title: "E-commerce Platform",
    description: "A responsive e-commerce platform built with React, Node.js, and MongoDB. Features include user authentication, product filtering, cart functionality, and payment processing.",
    tags: ["React", "Node.js", "MongoDB", "Express"],
    image: "https://images.pexels.com/photos/230544/pexels-photo-230544.jpeg?auto=compress&cs=tinysrgb&w=600",
    link: "#",
    github: "https://github.com/yourusername/ecommerce-platform"
  },
  {
    id: 2,
    title: "NGO Management System",
    description: "A comprehensive management system for NGOs to track projects, donors, and beneficiaries. Includes reporting tools, visualization, and stakeholder communication features.",
    tags: ["Python", "Django", "PostgreSQL", "Chart.js"],
    image: "https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg?auto=compress&cs=tinysrgb&w=600",
    link: "#",
    github: "https://github.com/yourusername/ngo-management"
  },
  {
    id: 3,
    title: "Weather Dashboard",
    description: "A weather dashboard that provides real-time weather information, forecasts, and historical data visualization. Built with vanilla JavaScript and a weather API.",
    tags: ["JavaScript", "HTML", "CSS", "API Integration"],
    image: "https://images.pexels.com/photos/2448749/pexels-photo-2448749.jpeg?auto=compress&cs=tinysrgb&w=600",
    link: "#",
    github: "https://github.com/yourusername/weather-dashboard"
  },
  {
    id: 4,
    title: "Task Management App",
    description: "A productivity application for managing tasks, projects, and deadlines. Features include drag-and-drop organization, priority setting, and progress tracking.",
    tags: ["React", "Firebase", "Material UI", "Redux"],
    image: "https://images.pexels.com/photos/669615/pexels-photo-669615.jpeg?auto=compress&cs=tinysrgb&w=600",
    link: "#",
    github: "https://github.com/yourusername/task-manager"
  }
];

// Get unique tags for filtering
const allTags = [...new Set(projects.flatMap(project => project.tags))];
---

<Layout title="Projects | Simon Rost">
  <section class="projects-section">
    <div class="container">
      <div class="projects-header fade-in" data-delay="0.1">
        <h1>My Projects</h1>
        <div class="subtitle">A showcase of my software development work</div>
      </div>
      
      <div class="filter-options fade-in" data-delay="0.2">
        <button class="filter-btn active" data-filter="all">All</button>
        {allTags.map(tag => (
          <button class="filter-btn" data-filter={tag}>{tag}</button>
        ))}
      </div>
      
      <div class="projects-grid">
        {projects.map((project, index) => (
          <div class="project-card fade-in" data-delay={0.3 + index * 0.1} data-tags={project.tags.join(',')}>
            <div class="project-image">
              <img src={project.image} alt={project.title} loading="lazy" />
            </div>
            <div class="project-content">
              <h3>{project.title}</h3>
              <p>{project.description}</p>
              <div class="project-tags">
                {project.tags.map(tag => (
                  <span class="tag">{tag}</span>
                ))}
              </div>
              <div class="project-links">
                <a href={project.link} class="btn" target="_blank" rel="noopener noreferrer">View Demo</a>
                <a href={project.github} class="btn btn-outline" target="_blank" rel="noopener noreferrer">GitHub</a>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const filterButtons = document.querySelectorAll('.filter-btn');
    const projectCards = document.querySelectorAll('.project-card');
    
    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        // Update active button
        filterButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        
        const filter = button.getAttribute('data-filter');
        
        projectCards.forEach(card => {
          if (filter === 'all') {
            card.style.display = 'block';
          } else {
            const tags = card.getAttribute('data-tags').split(',');
            if (tags.includes(filter)) {
              card.style.display = 'block';
            } else {
              card.style.display = 'none';
            }
          }
        });
      });
    });
  });
</script>

<style>
  .projects-section {
    padding: var(--spacing-xl) 0;
  }
  
  .projects-header {
    text-align: center;
    margin-bottom: var(--spacing-lg);
  }
  
  .subtitle {
    color: var(--color-text-muted);
    font-size: 1.25rem;
    max-width: 600px;
    margin: 0 auto;
  }
  
  .filter-options {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-xl);
  }
  
  .filter-btn {
    background-color: transparent;
    border: 1px solid var(--color-border);
    color: var(--color-text-muted);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    transition: all var(--transition-quick);
  }
  
  .filter-btn:hover, .filter-btn.active {
    background-color: var(--color-primary-muted);
    color: var(--color-primary);
    border-color: var(--color-primary);
  }
  
  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: var(--spacing-lg);
  }
  
  .project-card {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 6px var(--color-card-shadow);
    background-color: var(--color-card);
    transition: transform var(--transition-normal), box-shadow var(--transition-normal);
  }
  
  .project-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 20px var(--color-card-shadow);
  }
  
  .project-image {
    height: 200px;
    overflow: hidden;
  }
  
  .project-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-normal);
  }
  
  .project-card:hover .project-image img {
    transform: scale(1.05);
  }
  
  .project-content {
    padding: var(--spacing-lg);
  }
  
  .project-content h3 {
    margin-bottom: var(--spacing-sm);
  }
  
  .project-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-xs);
    margin: var(--spacing-md) 0;
  }
  
  .tag {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    background-color: var(--color-primary-muted);
    color: var(--color-primary);
    border-radius: 4px;
  }
  
  .project-links {
    display: flex;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-md);
  }
  
  .project-links .btn {
    flex: 1;
    text-align: center;
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
  }
  
  @media (max-width: 768px) {
    .projects-grid {
      grid-template-columns: 1fr;
    }
    
    .project-links {
      flex-direction: column;
    }
  }
</style>